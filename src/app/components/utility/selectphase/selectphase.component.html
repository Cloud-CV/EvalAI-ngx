<div class="select-phase">
  <div class="select-title heading">Select a phase:</div>
  <div [class.inline]="publicRouter.url.indexOf('submissions') >= 0" class="phase-div" *ngFor="let item of phases">
    <div class="card card-light" (click)="selectPhase(item)" [class.selected]="item['is_selected']">

      <div class="content selectstate left" [class.single-line]="publicRouter.url.indexOf('submissions') >= 0">
        <i class="far fa-circle selectstate" *ngIf="!item['is_selected']"></i>
        <i class="fa fa-check selectstate" aria-hidden="true" *ngIf="item['is_selected']"></i>
      </div>
      <div class="content rightside">
      <div >
        <span class="heading">Phase: </span><span>{{item['name']}}</span>
        <span *ngIf="publicRouter.url.indexOf('leaderboard') >= 0"><br>
        <span class="heading">Split: </span><span>{{item['phase_split']['dataset_split_name']}}</span>
        </span>
      </div>
      <div *ngIf="publicRouter.url.endsWith('submit')"><span class="heading">End Date: </span><span>{{getFormattedDate(item['end_date'])}}</span></div>
    </div>
    </div>

    <div class="clearfix"></div>
  </li>
</span>

<span *ngIf="phaseSelectionType=='selectBox' && phaseSelectionListType=='phase'">
  <mat-form-field>
    <mat-label>Phase</mat-label>
    <mat-select class="rm-margin">
      <mat-select-trigger>
        <span class="col-lg-9 col-md-9 col-sm-8 col-xs-7">{{phaseName}} </span>
        <span class="col-lg-3 col-md-3 col-sm-4 col-xs-5">
          <mat-chip-list *ngIf="phaseVisibility">
            <mat-chip>Private</mat-chip>
          </mat-chip-list>
        </span>
      </mat-select-trigger>
      <mat-option (click)="selectPhase(key)" [value]="key" *ngFor="let key of phases">
        <span class="col-lg-9 col-md-9 col-sm-8 col-xs-7">{{key.name}} </span>
        <span class="col-lg-3 col-md-3 col-sm-4 col-xs-5">
          <mat-chip-list *ngIf="key.showPrivate">
            <mat-chip>Private</mat-chip>
          </mat-chip-list>
        </span>
      </mat-option>
    </mat-select>
  </mat-form-field>
</span>

<span *ngIf="phaseSelectionType=='selectBox' && phaseSelectionListType=='phaseSplit'">
  <mat-form-field>
    <mat-label>Challenge Phase</mat-label>
    <mat-select class="rm-margin" [(ngModel)]="selectedPhaseSplit">
      <mat-select-trigger>
        <span class="col-lg-9 col-md-9 col-sm-8 col-xs-7">
          <span class="fw-regular">Phase:</span>{{phaseName}}, 
          <span class="fw-regular">Split: </span>{{splitName}} &nbsp; 
        </span>
        <span class="col-lg-3 col-md-3 col-sm-4 col-xs-5">
          <mat-chip-list *ngIf="phaseVisibility">
            <mat-chip>Private</mat-chip>
          </mat-chip-list>
        </span>
      </mat-select-trigger>
      <mat-option (click)="selectPhaseSplit(key, 'selectBox', 'phaseSplit')" [value]="key" *ngFor="let key of phases">
        <span class="col-lg-9 col-md-9 col-sm-8 col-xs-7">
          <span class="fw-regular">Phase:</span>{{key.challenge_phase_name}}, 
          <span class="fw-regular">Split: </span>{{key.dataset_split_name}} &nbsp; 
        </span>
        <span class="col-lg-3 col-md-3 col-sm-4 col-xs-5">
          <mat-chip-list *ngIf="key.showPrivate">
            <mat-chip>Private</mat-chip>
          </mat-chip-list>
        </span>
      </mat-option>
    </mat-select>
  </mat-form-field>
</span>
